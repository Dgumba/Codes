
const int redLedPin = 9;
const int greenLedPin = 10;
const int startButtonPin = 7;
const int player1ButtonPin = 13;
const int player2ButtonPin = 4;
const int ledPlayer1Pin = 4;
const int ledPlayer2Pin = 13;


unsigned long time = 0; 
int player1Score = 0;
int player2Score = 0;

void setup() {
    pinMode(redLedPin, OUTPUT);
    pinMode(greenLedPin, OUTPUT);
    pinMode(startButtonPin, INPUT_PULLUP); 
    pinMode(player1ButtonPin, INPUT_PULLUP);
    pinMode(player2ButtonPin, INPUT_PULLUP);
    
    digitalWrite(redLedPin, HIGH); 
}

void loop() {
    if (!digitalRead(startButtonPin)) {
        digitalWrite(redLedPin, LOW);   
        digitalWrite(greenLedPin, HIGH);
        
        time = millis();                
        player1Score = 0;               
        player2Score = 0;
        
        while (millis() - time < 200000) { 
            if (!digitalRead(player1ButtonPin)) {
                player1Score++;
            }
            
            if (!digitalRead(player2ButtonPin)) {
                player2Score++;
            }
        }
        
        digitalWrite(greenLedPin, LOW); 
        
        if (player1Score > player2Score) {
            
            digitalWrite(ledPlayer1Pin, HIGH);
        } else if (player2Score > player1Score) {
            
            digitalWrite(ledPlayer2Pin, HIGH);
        } else {
            
            digitalWrite(ledPlayer1Pin, HIGH);
            digitalWrite(ledPlayer2Pin, HIGH);
        }
        
        delay(5000); 
        
        digitalWrite(ledPlayer1Pin, LOW); 
        digitalWrite(ledPlayer2Pin, LOW);
        digitalWrite(redLedPin, HIGH);    
    }
}
